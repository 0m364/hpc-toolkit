{% extends "base_generic.html" %}

{% block extrameta %}
{% endblock %}


{% block content %}
  <h2>Create a new workbench</h2>  

{% if form.errors %}
{% for field in form %}
{% for error in field.errors %}
<div class="alert alert-danger">
<strong>{{field.name}} {{ error|escape }}</strong>
</div>
{% endfor %}
{% endfor %}
{% for error in form.non_field_errors %}
<div class="alert alert-danger">
<strong>{{ error|escape }}</strong>
</div>
{% endfor %}
{% endif %}


  <form action="" method="post">
    {% csrf_token %}

    <input type="hidden" name="cloud_credential" class="form-control" id="id_cloud_credential" value="{{ form.cloud_credential.value }}">
    <div class="form-group">
      {{ form.name.errors }}
      {{ form.name.label_tag }}
      {{ form.name }}
        <small class="form-text text-muted">{{ form.name.help_text }}</small>
    </div>
    <div class="form-group">
      {{ form.cloud_credential.errors }}
      {{ form.cloud_credential.label_tag }}
      {{ form.cloud_credential }}
        <small class="form-text text-muted">{{ form.cloud_credential.help_text }}</small>
    </div>
    <div class="form-group">
      {{ form.subnet.errors }}
      {{ form.subnet.label_tag }}
      {{ form.subnet }}
        <small class="form-text text-muted">{{ form.subnet.help_text }} - Please note user-managed workbenches are not available in all regions, see <a href="https://cloud.google.com/vertex-ai/docs/general/locations#vertex-ai-workbench-locations" target="_blank"> Workbench Documentation</a> for more detail on currently available regions</small>
    </div>
    <div class="form-group">
      {{ form.trusted_users.errors }}
      {{ form.trusted_users.label_tag }}
      {{ form.trusted_users }}
        <small class="form-text text-muted">{{ form.trusted_users.help_text }}</small>
    </div>
    <div class="form-group">
      {{ form.machine_type.errors }}
      {{ form.machine_type.label_tag }}
      {{ form.machine_type }}
        <small class="form-text text-muted">{{ form.machine_type.help_text }}</small>
    </div>
    <div class="form-group">
      {{ form.boot_disk_type.errors }}
      {{ form.boot_disk_type.label_tag }}
      {{ form.boot_disk_type }}
        <small class="form-text text-muted">{{ form.boot_disk_type.help_text }}</small>
    </div>
    <div class="form-group">
      {{ form.boot_disk_capacity.errors }}
      {{ form.boot_disk_capacity.label_tag }}
      {{ form.boot_disk_capacity }}
        <small class="form-text text-muted">{{ form.boot_disk_capacity.help_text }}</small>
    </div>
    <div class="form-group">
      {{ form.image_family.errors }}
      {{ form.image_family.label_tag }}
      {{ form.image_family }}
        <small class="form-text text-muted">{{ form.image_family.help_text }}</small>
    </div>

    <br/>
    <input type="submit" value="Save" class="btn btn-primary"/>
  </form>

{% endblock %}
