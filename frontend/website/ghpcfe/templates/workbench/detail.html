{% extends "base_generic.html" %}

{% block meta %}
  {% if workbench.status == "c" or workbench.status == "i" or workbench.status == "t" %}
  <meta http-equiv="refresh" content="15" />
  {% endif %}
{% endblock %}

{% block content %}
  <h2>Workbench Detail</h2>
  {% if messages %}
    {% for message in messages %}
      <div class="alert {% if message.tags %}alert-{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}danger{% else %}{{ message.tags }}{% endif %}{% endif %}" role="alert">{{ message }}</div>
    {% endfor %}
  {% endif %}
    <p><b>Workbench ID:</b> {{ object.id }}</p>
    <p><b>Name:</b> {{ object.name }}</p>
    <p><b>Cloud Name:</b> {{ object.internal_name }}</p>
    <p><b>Region:</b> {{ object.cloud_region }}</p>
    <p><b>Zone:</b> {{ object.cloud_zone }}</p>
    <p><b>VPC & Subnet:</b> {{ object.subnet.vpc.name }} - {{object.subnet.name}}</p>
    <p><b>Machine Type:</b> {{ object.machine_type }}</p>
    <p><b>Boot Disk Type:</b> {{ object.boot_disk_type }}</p>
    <p><b>Boot Disk Capacity:</b> {{ object.boot_disk_capacity }} GB</p>
    <p>
      <b>Status:</b>
      {% if workbench.status == "c" or workbench.status == "i" or workbench.status  == "t"  %}
          <img src="/static/img/loading.gif" style="width:32px;height:32px;">
      {% endif %}
      {{ object.get_status_display }}
    </p>

    {% if object.status == "d" %}
    <div class="alert alert-info">This workbench is destroyed and its settings archived. No further change is possible.</div>
    {% endif %}
    {% if object.status == "n" %}
    <a href="{% url 'workbench-delete' object.id %}" class="btn btn-primary">Delete</a>
    <a href="{% url 'backend-start-workbench' object.id %}" class="btn btn-primary">Create</a>
    {% endif %}
    {% if object.status == "r" %}
    <a href="https://{{ object.proxy_uri }}" class="btn btn-primary" target="_blank">Open JupyterLab </a>
    {% endif %}

{% endblock %}
